---
title: 地理信息系统
date: 2019-12-18 22:59:58
tags:
category:
---

# 2.3空間尺度 #
尺度: 在概念上是指研究者選擇觀察(測)世界的窗口
觀測尺度: 研究的區域大小或空間範圍
比例尺的表述: 數字 文字 圖解
操作尺度: 對空間實體、現象的數據進行處理操作時應采用的最佳尺度，不同操作尺度影響處理結果的可靠程度或準確度
地理格網: 按照一定的數學規則對地球表面劃分而形成的格網

# 3.空間數據模型 #
地理空間: 地球表面及近地表空間，是地球上大氣圈、水圈、生物圈、岩石圈、智慧圈交互作用的區域，地球上最複雜的物理過程、化學過程生物過程就發生在該區域
空間實體具有四個基本特徵: 空間特徵 屬性特徵 時間特徵 空間關係特徵(拓補關係 順序關係 度量關係) 

對現實世界的抽象、描述、表達
概念模型:是地理空間中地理事物與現象的抽象概念集，是地理數據的語義解釋，從計算機系統的角度來看，是系統抽象的最高層
邏輯數據模型:是GIS描述概念模型中實體及其關係的邏輯結構，是系統抽象的中間層。
物理数据模型: 概念模型再计算机内部具体的存储形式和操作机制在物理磁盘上如何存放和存取,是系统抽象的最底层 

地理空間數據的概念模型: 對象糢型 場模型 網格模型

對象模型(要素模型): 將研究的整個地理空間看成一個空域，地理現象和空間實體作爲獨立的研究對象分佈在該空域中。(點綫面躰)

場模型(域模型)； 吧地理空間中的現象作爲連續的變量或躰來看待。
六種場模型(規則分佈的點，不規則分佈的點，規則矩形區，不規則多邊形區，不規則三角形區，等值綫)

網格模型: 描述不連續的地理現象，考慮通過路徑相互連接的綫(段）構成，亦即在地理空間中，通過無數通道相互連接的一組地理空間位置。

空间数据类型: 
几何类型数据:来源于各种类型的地图和实测几何数据. 反应空间实体的地理位置,还反应空间实体间空间关系
影像数据:来源于卫星遥感、航空遥感、摄影测量
属性数据:来源于实测数据、文字报告，或地图中的各类符号说明，以及从遥感影像数据通过解疑得到的信息
地形数据:来源于地形图等高线的数字化，已建立的格网状的数字化高程模型(DTM)，或其他形式表示的表面(TIN)等
元数据:对空间数据进行推理、分许和总结得到的关于数据的数据，如数据的来源、数据权属、数据产生的时间、数据精度、数据分辨率、元数据比例尺、地理空间参考基准、数据转换方法等

空间关系:地理空间实体之间相互作用的关系
1. 拓补空间关系：用来描述实体间相邻、连通、包含、相交等关系
2. 顺序空间关系：用于描述实体在地理空间上的排列顺序，如实体之间前后、上下、左右和东、西、南、北等方位关系
3. 度量空间关系: 用于描述空间实体之间的距离远近等关系

空间拓补关系: 地图上的拓补关系是指图形在保持连续状态下的变形(缩放、旋转、拉伸)但图形关系不变的性质。图形要素间的邻接关系、关联关系、包含关系、连通关系保持不变。
邻接关系: 空间图形中同类元素之间的拓补关系
关联关系: 空间图形中不同类元素之间的拓补关系
包含关系:空间图形中不同类或者同类但不同级元素之间的拓补关系
连通关系: 空间图形中弧段之间的拓补关系

空间数据的拓补关系，对数据处理和空间分析具有重要意义:
1. 拓补关系能清晰地反映实体之间的逻辑结构关系他比几何坐标关系有更大的稳定性，不随投影变化而变化
2. 利用拓补关系有利于空间要素的查询
3. 可以根据拓补关系重建地理实体。

顺序空间关系:基于空间实体在地理空间的分布，采用上下、左右、前后、东南西北等方向性名词来描述
度量空间关系: 空间实体间的距离关系

矢量数据结构: 矢量数据结构是对矢量数据模型进行数据的组织。通过记录实体坐标及其关系,尽可能精确地表示点、线、多边形等地理实体，坐标空间设置为连续。允许任意位置、长度和面积的精确定义。矢量数据结构直接以几何空间坐标为基础，记录采样点坐标。

矢量数据按照其能否明确表示地理实体间的空间关系分为: 实体数据结构和拓补数据结构两大类。

实体数据结构: Spaghetti数据结构，是指构成多边形边界的各个线段，以多边形为单元进行组织。边界坐标数据和多边形单元实体一一对应，各个多边形边界点都单独编码并记录坐标。
拓补数据结构: 拓补关系是一种对空间结构关系进行明确定义的数学方法。具有拓补关系的矢量数据结构就是拓补数据结构

实体数据结构的缺点:
1. 相邻多边形的公共边界要数字化两边，造成数据冗余存储，可能导致公共边界出现间隙或重叠
2. 缺少多边形的邻域信息和图形的拓补关系
3. 岛只作为一个单个图形。没有建立与外界多边形的关系

拓补数据结构包括: 索引式结构 双重独立编码结构 链状双重独立编码结构 
索引式数据结构: 采用树状索引以减少数据冗余并见解增加邻域信息。对所有边界点进行数字化，将坐标对以顺序方式存储，由点索引与边界线号相联系，以线索引与各多边形相联系，形成树状索引结构。
双重独立编码结构: 以城市街道为编码主体，特点是采用了拓补编码结构，这种结构最适合于城市信息系统。
链状双重独立式数据结构是DIME数据结构的一种改进。在DIME中，一条边只能用直线两端点的序号及相邻的多边形来表示，而在链状数据结构中，将若干直线段合为一个弧段（或链段），每个弧段可以由许多中间点。

栅格数据结构: 以规则栅格阵列表示空间对象的数据结构称为栅格数据结构。阵列中每个栅格单元上的数值表示空间对象的属性特整。栅格阵列中每个单元的行列号确定位置,属性值表示空间对象的类型、等级和特征。每个栅格单元只能存在一个值。

栅格数据的特点: 
1. 属性明显，定位隐含
2. 数据结构简单、数学模仿方便
3. 数据量大、难以建立实体间的拓补关系、通过改变分辨率而减少数据量时精度和信息量同时受损。

一个完整的栅格数据通常由以下几个参数决定:
1. 栅格形状
2. 栅格单元大小
3. 栅格原点
4. 栅格的倾角

单元栅格值的选取:
1. 中心点法
2. 面积占优法
3. 重要性法
4. 百分比法
5. 长度占优法

完全栅格数据结构(编码):将栅格看做一个数据矩阵，逐行记录栅格单元的值。
组织的三种基本方式:基于像元 基于层 基于 面域

压缩栅格数据结构: 
1. 游程长度编码(行程编码): 对于一副栅格数据(或影像)，常常由行(或列)方向上的若干点具有相同的属性代码，因而可采取某种方法压缩那些重复的记录内容。
在各行数据值发生变化时依次记录该值以及同值重复的个数
2. 四叉树数据结构: 对栅格数据的压缩编码方法。其基本思想是将一副栅格数据图层或图像分为4个部分，逐快检查其格网的属性值(或灰度)；如果某个自取的所有格网值都具有相同的值，则这个子区就不再继续分割，否则海要把这个子区再分割成四个子区；这样依次地分割，直到每个子块都只含有相同属性值或灰度为止

常规四叉树: (四个叶子节点 一个父指针 一个本节点属性or灰度值) 【数据索引 图幅索引】
线性四叉树: 只存储最后叶节点的信息，包括叶节点的位置、深度和本节点的属性或灰度值。最寻一定规则的【地址码隐含位置和深度信息】{Morton}P99

3. 二维行程编码结构:生成四叉树之后，仍然存在前后叶节点值相同的情况，因而可以将数据进一步压缩，将前后值相同的叶节点合并，形成一个新的表例。P100

栅格数据结构与矢量数据结构的比较：
栅格数据"属性明显、位置隐含"  
矢量数据"属性隐含、位置明显"

矢量数据结构的优点:
1. 数据结构严密，冗余度小，数据量小；
2. 空间拓补关系清晰，易于网络分析；
3. 面向对象目标的，不仅能表达属性编码，而且能方便地记录每个目标的具体属性描述信息
4. 能够实现图形数据恢复、更新和综合
5. 图形显示质量好、精度高

矢量数据结构的缺点:
1. 数据结构处理算法复杂
2. 叠置分析与栅格图组合比较困难
3. 数学模拟比较困难
4. 空间分析技术上比较复杂，需要更复杂的软、硬件条件
5. 显示与绘图成本比较高

栅格数据结构的优点:
1. 数据结构简单，易于算法实现
2. 空间数据的叠置和组合容易，有利于与遥感数据的匹配应用和分析
3. 各类空间分析、地理现象模拟均较为容易
4. 输出方法快速简便、成本低廉

栅格数据的缺点:
1. 图形数据量大，用大象元减小数据量时精度和信息量受损失
2. 难以建立空间网路连接关系
3. 投影变化实现困难
4. 图形数据质量低，地图输出不精美

栅-矢一体化数据结构的特点:
**多级格网方法、三个基本约定和先行四叉树编码**
多级格网:粗格网 基本格网 细格网 M1 M2 属性 

TIN数据结构:
三角形作为基本的空间对象进行数据组织:
1. 点文件【每个采样点对应的一个记录，给出该点的xy坐标，以及属性值】 
2. 三角形拓补文件 【组织三角形与采样点以及三角形与相邻三角形的邻接关系】

将节点作为基本空间对象进行TIN三角网组织:
1. 点文件 【附加指针项 指向连接特征点的索引号】
2. 连接点文件结构【按顺时针方向给出每个特征点相连接的其他特征点号，索引号为顺序递增的流水号，在表中的"0"或"-"都表示了相连特征点的结尾处】

数据库的模型: 层次模型 网状模型 关系模型 面向对象模型

空间数据库: 地理信息系统的数据库(简称空间数据库or地理数据库)
**是某一区域内关于一定地理要素特征的数据集合，是地理信息系统在计算机物理存储介质存储的与应用相关的地理空间数据的总和，一般是以一系列特定结构的文件的形式组织在存储介质之上的**
**空间数据库是地理信息系统中用于存储和管理空间数据的场所**

空间数据库与一般数据库相比的特点:
1. 数据量特别大
2. 不仅要有地理要素的属性数据，还要有大量的空间数据
3. 数据应用广泛【地理研究 环境保护 土地利用规划 资源开发 生态环境 市政管理 道路建设】

空间数据的基本特征: 
1. 空间特征: 空间对象隐含了的空间分布特征
2. 非结构化特征: 在关系数据库管理系统中，数据记录中每条记录都是定长的(结构化)，数据项不可再分，不允许嵌套记录。而空间数据不能满足这种定长(结构化的)要求。 
3. 空间关系特征: 空间数据除隐含了空间分布关系外，还通过拓补数据结构表达了多种空间关系
4. 多尺度与多态性: 不同观察比例尺具有不同的尺度和精度，同一地物在不同情况下也会有形态差异
5. 分类编码特征: 一般情况，每个空间对象都有一个分类编码，这种分类编码往往是按照国家标准或者是行业标准地区标准采用的每一种第五类型在某个GIS中的属性项个数是相同的
6. 海量数据特征: GIS中数据量非常庞大，远大于一般的通用数据库

矢量数据管理:P119
1. 文件-关系数据库混合管理
2. 全关系数据库管理
3. 对象-关系数据库管理 

栅格数据的管理:P122
1. 文件管理
2. 文件-数据库管理
3. 关系数据库管理【P123优点】

空间数据组织: fact check?/?
【多时空性->横向分幅】
【多时尺度->不同比例尺】
【多源性->纵向分幅】

常见分幅方式: 标准分幅  区域分幅

空间索引:
**依据空间对象的位置和形状或空间对象的某种空间关系按一定的顺序排列的一种数据结构，其中包含空间对象之间的概要信息【对象标识 外界矩形 指向空间对象实体的指针】**

- 对象范围索引: 在记录每个空间实体的坐标时，记录包围每个空间实体的外接矩形的最大 最小坐标。在检索空间实体时，根据空间实体的最大最小范围，预先排除那些没有落入检索窗口内的空间实体，进队那些外界矩形落在检索窗口的空间实体做进一步的判断，最后检索出那些真正落入窗口内的空间实体

- 格网索引: 将研究区域用横竖线条划分成大小相等或不相等的格网，记录每一个格网所包含的空间实体。当用户进行空间查询时，首先计算出用户查询对象所在的格网，然后再在该网格中快速查询所选空间实体

- 四叉树空间索引: 根据所有空间对象覆盖的范围，进行四叉树分割，使每个子块中包含单个实体，然后根据包含每个实体的子块层数或子块大小，建立相应的索引。大区域空间实体更靠近树的底部，小实体位于叶端，以不同的分辨率描述不同实体的可检索性

- R树&R+树索引


GIS平稳运行的基础: 空间数据准确 高效的获取
空间数据来源: 地图数据、野外实测数据、空间定位数据、摄影测量与遥感图像、多媒体数据

数据源的分类: 
- 根据获取方式:
    1. 地图数据
    2. 遥感影像数据
    3. 实测数据
    4. 共享数据
    5. 其他数据

数据源的特征:
1. 地图数据:各种类型的地图是目前GIS最常见的数据源
   地图是地理数据的传统描述形式，是具有共同参考坐标系的点线面的二维平面形式的表示
    - 普通地图是以相对平衡的详细成都表示地球表面上的自然地理和社会经济要素，主要表达居民地、交通网、水系、地貌、境界、土质和植被等
    - 专题地图着重反映一种或少数几种专题要素，如低质、地貌、土壤、植被和土地利用等原始资料【点线面三要素】
    - 【Pay attention to】
     1. 地图存储介质的缺陷
     2. 地图现势性较差
     3. 地图投影的转换

2. 遥感影像数据: 遥感影像是GIS中一个极其重要的信息源。通过遥感影像可以准确地获得大面积的、综合的、各种专题信息【注意影像的纠正、影像的分辨率、影像的解译特征】
3. 实测数据:　各种野外数据、实地测量所得数据，他们通过转换可直接进入GIS的空间数据库，以用于实时分析和进一步的应用【GPS点位数据、地籍测量数据具有较高精度和较好现势性】
4. 统计数据: 许多部门和机构都拥有不同领域如人口、自然资源、国民经济等方面的大量统计资料这些常常也是GIS的数据源，尤其是属性数据的重要来源。
5. 共享数据
6. 多媒体数据: 多媒体设备获取数据(声音 录像)
7. 文本资料数据: 文字报告、立法文件


空间数据采集与处理的基本流程
1. 数据源的选择:
    - 是否能满足系统功能的需求
    - 所选数据源是否已经有使用经验
    - 系统成本

2. 采集方法的确定:
3. 数据的编辑与处理
4. 数据质量控制与评价
5. 数据入库










{% aplayer " " ""
 "/media/mp3/.mp3" "autoplay" %}