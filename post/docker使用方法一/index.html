<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Docker使用方法(一) - WoW</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<meta name="author" content="w0x7ce" /><meta name="description" content="Docker的應用場景 Web 應用的自動化打包和發布。 自動化測試和持續集成、發布。 在服務型環境中部署和調整數據庫或其他的後台應用。 從頭編譯或者擴展" /><meta name="keywords" content="Hugo, theme, even" />






<meta name="generator" content="Hugo 0.88.1 with theme even" />


<link rel="canonical" href="http://localhost:1313/post/docker%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95%E4%B8%80/" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">

<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

<link href="/sass/main.min.b5a744db6de49a86cadafb3b70f555ab443f83c307a483402259e94726b045ff.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css" integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin="anonymous">


<meta property="og:title" content="Docker使用方法(一)" />
<meta property="og:description" content="Docker的應用場景 Web 應用的自動化打包和發布。 自動化測試和持續集成、發布。 在服務型環境中部署和調整數據庫或其他的後台應用。 從頭編譯或者擴展" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/post/docker%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95%E4%B8%80/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2021-09-14T20:32:49+08:00" />
<meta property="article:modified_time" content="2021-09-14T20:32:49+08:00" />

<meta itemprop="name" content="Docker使用方法(一)">
<meta itemprop="description" content="Docker的應用場景 Web 應用的自動化打包和發布。 自動化測試和持續集成、發布。 在服務型環境中部署和調整數據庫或其他的後台應用。 從頭編譯或者擴展"><meta itemprop="datePublished" content="2021-09-14T20:32:49+08:00" />
<meta itemprop="dateModified" content="2021-09-14T20:32:49+08:00" />
<meta itemprop="wordCount" content="1729">
<meta itemprop="keywords" content="Linux,Docker," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Docker使用方法(一)"/>
<meta name="twitter:description" content="Docker的應用場景 Web 應用的自動化打包和發布。 自動化測試和持續集成、發布。 在服務型環境中部署和調整數據庫或其他的後台應用。 從頭編譯或者擴展"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">WoW</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">Home</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">Archives</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">Tags</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">Categories</li>
      </a><a href="/about/">
        <li class="mobile-menu-item">About</li>
      </a>
  </ul>

  


</nav>

  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">WoW</a>
</div>





<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">Home</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">Archives</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">Tags</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">Categories</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/about/">About</a>
      </li>
  </ul>
</nav>

    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">Docker使用方法(一)</h1>

      <div class="post-meta">
        <span class="post-time"> 2021-09-14 </span>
        <div class="post-category">
            <a href="/categories/%E8%BB%9F%E4%BB%B6/"> 軟件 </a>
            </div>
          <span class="more-meta"> 1729 words </span>
          <span class="more-meta"> 4 mins read </span>
        <span id="busuanzi_container_page_pv" class="more-meta"> <span id="busuanzi_value_page_pv"><img src="/img/spinner.svg" alt="spinner.svg"/></span> times read </span>
      </div>
    </header>

    <div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">Contents</h2>
  <div class="post-toc-content always-active">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#docker的應用場景">Docker的應用場景</a></li>
    <li><a href="#docker-的優點">Docker 的優點</a></li>
    <li><a href="#docker安裝">Docker安裝</a></li>
    <li><a href="#docker卸載">Docker卸載</a></li>
    <li><a href="#docker使用基礎">Docker使用基礎</a>
      <ul>
        <li><a href="#docker-hello-world">Docker Hello World</a></li>
        <li><a href="#運行交互式的容器">運行交互式的容器</a></li>
        <li><a href="#啟動容器後台模式">啟動容器（後台模式）</a></li>
        <li><a href="#停止容器">停止容器</a></li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</div>
  <div class="post-outdated">
    <div class="hint">
      <p>[NOTE] Updated <span class="timeago" datetime="2021-09-14T20:32:49" title="September 14, 2021">September 14, 2021</span>. This article may have outdated content or subject matter.</p>
    </div>
  </div>
    <div class="post-content">
      <h1 id="docker的應用場景">Docker的應用場景</h1>
<ul>
<li>Web 應用的自動化打包和發布。</li>
<li>自動化測試和持續集成、發布。</li>
<li>在服務型環境中部署和調整數據庫或其他的後台應用。</li>
<li>從頭編譯或者擴展現有的 OpenShift 或 Cloud Foundry 平台來搭建自己的 PaaS 環境。</li>
</ul>
<h1 id="docker-的優點">Docker 的優點</h1>
<p>Docker 是一個用於開發，交付和運行應用程序的開放平台。 Docker 使您能夠將應用程序與基礎架構分開，從而可以快速交付軟件。借助 Docker，您可以與管理應用程序相同的方式來管理基礎架構。通過利用 Docker 的方法來快速交付，測試和部署代碼，您可以大大減少編寫代碼和在生產環境中運行代碼之間的延遲。</p>
<ol>
<li>快速，一致地交付您的應用程序
Docker 允許開發人員使用您提供的應用程序或服務的本地容器在標準化環境中工作，從而簡化了開發的生命週期。</li>
</ol>
<p>容器非常適合持續集成和持續交付（CI / CD）工作流程，請考慮以下示例方案：</p>
<p>您的開發人員在本地編寫代碼，並使用 Docker 容器與同事共享他們的工作。</p>
<p>他們使用 Docker 將其應用程序推送到測試環境中，並執行自動或手動測試。</p>
<p>當開發人員發現錯誤時，他們可以在開發環境中對其進行修復，然後將其重新部署到測試環境中，以進行測試和驗證。</p>
<p>測試完成後，將修補程序推送給生產環境，就像將更新的鏡像推送到生產環境一樣簡單。</p>
<ol start="2">
<li>響應式部署和擴展
Docker 是基於容器的平台，允許高度可移植的工作負載。 Docker 容器可以在開發人員的本機上，數據中心的物理或虛擬機上，雲服務上或混合環境中運行。</li>
</ol>
<p>Docker 的可移植性和輕量級的特性，還可以使您輕鬆地完成動態管理的工作負擔，並根據業務需求指示，實時擴展或拆除應用程序和服務。</p>
<ol start="3">
<li>在同一硬件上運行更多工作負載
Docker 輕巧快速。它為基於虛擬機管理程序的虛擬機提供了可行、經濟、高效的替代方案，因此您可以利用更多的計算能力來實現業務目標。 Docker 非常適合於高密度環境以及中小型部署，而您可以用更少的資源做更多的事情</li>
</ol>
<h1 id="docker安裝">Docker安裝</h1>
<pre><code>curl -sSL https://get.daocloud.io/docker | sh
</code></pre>
<h1 id="docker卸載">Docker卸載</h1>
<pre><code> sudo apt-get remove docker docker-engine docker.io containerd runc
</code></pre>
<h1 id="docker使用基礎">Docker使用基礎</h1>
<h2 id="docker-hello-world">Docker Hello World</h2>
<p>Docker 允許你在容器內運行應用程序， 使用 docker run 命令來在容器內運行一個應用程序。</p>
<p>輸出Hello world</p>
<pre><code>w0x7ce@w0x7ce:~$ docker run ubuntu:15.10 /bin/echo &quot;Hello world&quot;
Hello world
</code></pre>
<p>各個參數解析：</p>
<pre><code>docker: Docker 的二進制執行文件。

run: 與前面的 docker 組合來運行一個容器。

ubuntu:15.10 指定要運行的鏡像，Docker 首先從本地主機上查找鏡像是否存在，如果不存在，Docker 就會從鏡像倉庫 Docker Hub 下載公共鏡像。

/bin/echo &quot;Hello world&quot;: 在啟動的容器裡執行的命令
</code></pre>
<p>以上命令完整的意思可以解釋為：Docker 以 ubuntu15.10 鏡像創建一個新容器，然後在容器裡執行 bin/echo &ldquo;Hello world&rdquo;，然後輸出結果。</p>
<h2 id="運行交互式的容器">運行交互式的容器</h2>
<p>我們通過 docker 的兩個參數 -i -t，讓 docker 運行的容器實現&quot;對話&quot;的能力：</p>
<pre><code>w0x7ce@w0x7ce:~$ docker run -i -t ubuntu:15.10 /bin/bash
root@0123ce188bd8:/#
</code></pre>
<p>各個參數解析：</p>
<pre><code>-t: 在新容器內指定一個偽終端或終端。

-i: 允許你對容器內的標準輸入 (STDIN) 進行交互。
</code></pre>
<p>注意第二行 root@0123ce188bd8:/#，此時我們已進入一個 ubuntu15.10 系統的容器</p>
<p>我們嘗試在容器中運行命令 cat /proc/version和ls分別查看當前系統的版本信息和當前目錄下的文件列表</p>
<pre><code>root@0123ce188bd8:/#  cat /proc/version
Linux version 4.4.0-151-generic (buildd@lgw01-amd64-043) (gcc version 5.4.0 20160609 (Ubuntu 5.4.0-6ubuntu1~16.04.10) ) #178-Ubuntu SMP Tue Jun 11 08:30:22 UTC 2019
root@0123ce188bd8:/# ls
bin  boot  dev  etc  home  lib  lib64  media  mnt  opt  proc  root  run  sbin  srv  sys  tmp  usr  var
root@0123ce188bd8:/# 
</code></pre>
<p>我們可以通過運行 exit 命令或者使用 CTRL+D 來退出容器。</p>
<pre><code>root@0123ce188bd8:/#  exit
exit
root@w0x7ce:~# 
</code></pre>
<p>注意第三行中 root@w0x7ce:~# 表明我們已經退出了當前的容器，返回到當前的主機中。</p>
<h2 id="啟動容器後台模式">啟動容器（後台模式）</h2>
<p>使用以下命令創建一個以進程方式運行的容器</p>
<pre><code>w0x7ce@w0x7ce:~$ docker run -d ubuntu:15.10 /bin/sh -c &quot;while true; do echo hello world; sleep 1; done&quot;
2b1b7a428627c51ab8810d541d759f072b4fc75487eed05812646b8534a2fe63
</code></pre>
<p>在輸出中，我們沒有看到期望的 &ldquo;hello world&rdquo;，而是一串長字符</p>
<p>2b1b7a428627c51ab8810d541d759f072b4fc75487eed05812646b8534a2fe63</p>
<p>這個長字符串叫做容器 ID，對每個容器來說都是唯一的，我們可以通過容器 ID 來查看對應的容器發生了什麼。</p>
<p>首先，我們需要確認容器有在運行，可以通過 docker ps 來查看：</p>
<pre><code>w0x7ce@w0x7ce:~$ docker ps
CONTAINER ID        IMAGE                  COMMAND              ...  
5917eac21c36        ubuntu:15.10           &quot;/bin/sh -c 'while t…&quot;    ...
</code></pre>
<p>輸出詳情介紹：</p>
<pre><code>CONTAINER ID: 容器 ID。

IMAGE: 使用的鏡像。

COMMAND: 啟動容器時運行的命令。

CREATED: 容器的創建時間。

STATUS: 容器狀態。

狀態有7種：

created（已創建）
restarting（重啟中）
running 或 Up（運行中）
removing（遷移中）
paused（暫停）
exited（停止）
dead（死亡）
PORTS: 容器的端口信息和使用的連接類型（tcp\udp）。

NAMES: 自動分配的容器名稱。
</code></pre>
<p>在宿主主機內使用 docker logs 命令，查看容器內的標準輸出：</p>
<pre><code>w0x7ce@w0x7ce:~$ docker logs 2b1b7a428627
</code></pre>
<pre><code>w0x7ce@w0x7ce:~$ docker logs amazing_cori
</code></pre>
<h2 id="停止容器">停止容器</h2>
<p>我們使用 docker stop 命令來停止容器:</p>
<p>通過 docker ps 查看，容器已經停止工作:</p>
<pre><code>w0x7ce@w0x7ce:~$ docker ps
</code></pre>
<p>可以看到容器已經不在了。</p>
<p>也可以用下面的命令來停止:</p>
<pre><code>w0x7ce@w0x7ce:~$ docker stop amazing_cori
</code></pre>

    </div>

    <div class="post-copyright">
  <p class="copyright-item">
    <span class="item-title">Author</span>
    <span class="item-content">w0x7ce</span>
  </p>
  <p class="copyright-item">
    <span class="item-title">LastMod</span>
    <span class="item-content">
        2021-09-14
        
    </span>
  </p>
  
  
</div>
<div class="post-reward">
  <input type="checkbox" name="reward" id="reward" hidden />
  <label class="reward-button" for="reward">Reward</label>
  <div class="qr-code">
    
    <label class="qr-code-image" for="reward">
        <img class="image" src="/media/wechat.png">
        <span>wechat</span>
      </label>
    <label class="qr-code-image" for="reward">
        <img class="image" src="/media/alipay.png">
        <span>alipay</span>
      </label>
  </div>
</div><footer class="post-footer">
      <div class="post-tags">
          <a href="/tags/linux/">Linux</a>
          <a href="/tags/docker/">Docker</a>
          </div>
      <nav class="post-nav">
        <a class="prev" href="/post/docker%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95%E4%BA%8C/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">Docker使用方法(二)</span>
            <span class="prev-text nav-mobile">Prev</span>
          </a>
        <a class="next" href="/post/%E5%B8%B8%E7%94%A8linux%E5%91%BD%E4%BB%A4%E4%BA%8C/">
            <span class="next-text nav-default">常用Linux命令(二)--sed</span>
            <span class="next-text nav-mobile">Next</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        

  

  

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
      <a href="mailto:null@w0x7ce.com" class="iconfont icon-email" title="email"></a>
      <a href="https://twitter.com/IIIIIlIlIIIllll" class="iconfont icon-twitter" title="twitter"></a>
      <a href="mailto:tian.r.king@gmail.com" class="iconfont icon-google" title="google"></a>
      <a href="https://github.com/tianrking/" class="iconfont icon-github" title="github"></a>
      <a href="https://space.bilibili.com/10065982" class="iconfont icon-bilibili" title="bilibili"></a>
  <a href="http://localhost:1313/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  <div class="busuanzi-footer">
    <span id="busuanzi_container_site_pv"> site pv: <span id="busuanzi_value_site_pv"><img src="/img/spinner.svg" alt="spinner.svg"/></span> </span>
      <span class="division">|</span>
    <span id="busuanzi_container_site_uv"> site uv: <span id="busuanzi_value_site_uv"><img src="/img/spinner.svg" alt="spinner.svg"/></span> </span>
  </div>

  <span class="copyright-year">
    &copy; 
    2017 - 
    2021<span class="heart"><i class="iconfont icon-heart"></i></span><span>w0x7ce</span>
  </span>
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  <script src="/lib/highlight/highlight.pack.js?v=20171001"></script>
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js" integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js" integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/timeago.js@3.0.2/dist/timeago.min.js" integrity="sha256-jwCP0NAdCBloaIWTWHmW4i3snUNMHUNO+jr9rYd2iOI=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/timeago.js@3.0.2/dist/timeago.locales.min.js" integrity="sha256-ZwofwC1Lf/faQCzN7nZtfijVV6hSwxjQMwXL4gn9qU8=" crossorigin="anonymous"></script>
  <script><!-- NOTE: timeago.js uses the language code format like "zh_CN" (underscore and case sensitive) -->
    var languageCode = "en".replace(/-/g, '_').replace(/_(.*)/, function ($0, $1) {return $0.replace($1, $1.toUpperCase());});
    timeago().render(document.querySelectorAll('.timeago'), languageCode);
    timeago.cancel();  
  </script>



<script type="text/javascript" src="/js/main.min.c99b103c33d1539acf3025e1913697534542c4a5aa5af0ccc20475ed2863603b.js"></script>



<script id="baidu_push">
  (function(){
    if (window.location.hostname === 'localhost') return;
    var bp = document.createElement('script'); bp.async = true;
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
      bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
    }
    else {
      bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
  })();
</script>




</body>
</html>
